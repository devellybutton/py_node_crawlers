# ChatWipe

### OpenAI 계정의 채팅 내역 및 메모리 초기화를 자동화하는 도구

- [프로젝트 목적](#프로젝트-목적)
- [사용자 가이드](#사용자-가이드)
  - [설치 및 실행 방법](#설치-및-실행-방법)
  - [사용 시 주의사항](#사용-시-주의사항)
- [전체 자동화 플로우](#전체-자동화-플로우)
- [개발 내역](#개발-내역)
- [한계 및 고려사항](#한계-및-고려사항)

---

## 프로젝트 목적

- ChatGPT에 수동으로 로그인하고 채팅 내역을 초기화하는 과정을 자동화

---

## 사용자 가이드

### 설치 및 실행 방법

1. **프로젝트 클론**

```bash
git clone https://github.com/devellybutton/chatwipe.git
cd chatwipe/monopro-final
```

2. **계정 데이터 준비**

- `data/` 폴더 안에 `accounts.xlsx` 파일 추가
  - 이메일 / 비밀번호가 포함된 형식

3. **프로그램 실행**

```bash
python main.py
```

---

### 사용 시 주의사항

- 반드시 **OpenAI에 로그인되지 않은 컴퓨터**에서 실행할 것
  - 이미 로그인된 상태에서는 이메일 인증 과정이 생략되어 자동화 실패 가능
- PyAutoGUI는 실제 화면을 보고 클릭하므로,
  - 해상도 / 배율 / 다크모드 등에 따라 인식 실패 가능성 있음

---

## 전체 자동화 플로우

| 단계 | 작업 내용                              | 세부 설명                                                  |
| ---- | -------------------------------------- | ---------------------------------------------------------- |
| 0    | 엑셀 → JSON 변환                       | `data/accounts.xlsx` 파일을 내부적으로 JSON으로 변환       |
| 1    | momail 로그인                          | `https://momail.kr` 접속 후 로그인, 인증 메일 대기         |
| 2    | OpenAI 로그인 시작                     | `https://auth.openai.com/log-in`에서 이메일, 비밀번호 입력 |
| 3    | momail에서 인증 메일 수신 및 코드 추출 | 도착한 인증 메일에서 6자리 코드 추출                       |
| 4    | OpenAI에 인증 코드 입력                | 추출한 코드로 로그인 완료                                  |
| 5    | 우측 상단 프로필 클릭 → Settings 진입  | 메뉴에서 `Settings` 클릭                                   |
| 6    | 메모리 초기화                          | `Personalization → Manage Memory → Delete all memories`    |
| 7    | 채팅 전체 삭제                         | `General → Delete all chats` 클릭 후 확인                  |
| 8    | 다음 계정으로 반복                     | 브라우저 한 탭에서 반복 실행                               |

---

## 개발 내역

### 시도한 방법 비교

| 대상    | Selenium       | Puppeteer      | Playwright     | PyAutoGUI + 로컬 Chrome  |
| ------- | -------------- | -------------- | -------------- | ------------------------ |
| Monopro | ⭕ 정상 작동   | ⭕ 정상 작동   | ❌ 렌더링 불가 | -                        |
| OpenAI  | ❌ 로그인 차단 | ❌ 로그인 차단 | ❌ 렌더링 불가 | ⭕ 우회 가능 (최종 채택) |

> 🔒 OpenAI는 자동화 탐지 시스템이 정교해 대부분의 자동화 접근을 차단함

---

### 최종 구성 방식

- **Monopro 사이트**: Selenium 사용
- **OpenAI 로그인/초기화**: PyAutoGUI + 로컬 Chrome 브라우저 사용

---

### 개발 및 테스트 단계 요약

| 단계 | 내용                          | 확인 항목                    | 완료 여부 |
| ---- | ----------------------------- | ---------------------------- | --------- |
| 1    | 계정 1개 로그인 테스트        | 로그인 정상 여부             | ⭕        |
| 2    | 계정 1개 초기화 기능 테스트   | 메모리 삭제 / 채팅 삭제 확인 | ⭕        |
| 3    | 계정 2개 연속 처리 테스트     | 계정 A → B 순차 처리         | ❌        |
| 4    | 전체 계정 자동 처리 (약 20개) | 계정 목록 불러와 테스트      | ❌        |

---

## 한계 및 고려사항

- **GUI 기반 자동화(PyAutoGUI)**는 화면 요소를 직접 인식하기 때문에 다음과 같은 문제 발생 가능:
  - 화면 해상도, 배율, 다크모드 차이 → 클릭 인식 실패
- 계정 하나가 실패하면 이후 계정도 작동하지 않을 수 있음
- OpenAI는 DOM 제어 차단 → Selenium으로는 조작 불가
  - 그래서 GUI 기반 자동화로 우회함
